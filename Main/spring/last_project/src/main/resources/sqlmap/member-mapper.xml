<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">
	
	<select id="login" resultType="member.MemberVO">
		SELECT		*
		FROM		userinfo	
		WHERE		email=#{email}
		AND			pw=#{pw, jdbcType=VARCHAR}
		
	</select>
	
	<insert id="insertgoogle">
	 INSERT INTO userinfo
	(email,social_code)
	values
	(#{email},#{social})
	</insert>
	
	<select id="email_check" resultType="Integer">
	select count(*)
	from userinfo
	where email = #{email}
	</select>
	
	<insert id="join">
	insert into userinfo ( email, pw, name, nickname, phone )
		values( #{email}, #{pw, jdbcType=VARCHAR}, #{name}, #{nickname}, #{phone} )
	</insert>
	
	<update id="update">
	update userinfo
	set email=#{email},name=#{name},nickname=#{nickname},pw=#{pw},phone=#{phone}
	where email=#{email}
	</update>
		
</mapper>
